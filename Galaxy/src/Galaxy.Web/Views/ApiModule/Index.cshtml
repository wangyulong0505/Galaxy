@section styles{
    <link href="~/lib/AdminLTE/plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/lib/AdminLTE/plugins/iCheck/all.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/lib/AdminLTE/plugins/datepicker/datepicker3.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/lib/AdminLTE/plugins/select2/select2.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/lib/bootstrapvalidator/dist/css/bootstrapValidator.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/lib/bootstrap-treeview/dist/bootstrap-treeview.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/base.css" rel="stylesheet" asp-append-version="true" />
    <style type="text/css">
        .popover-content {
            padding: 0px 14px;
        }
        .textline {
            width: 850px;
            border: 1px solid #EBEBEB;
            background-color: #fff;
            height: 300px;
            padding: 10px;
            overflow: auto;
            color: #000;
            font-size: 12px;
            outline: none;
        }
    </style>
}
@section scripts{
    <script src="~/lib/AdminLTE/plugins/datepicker/bootstrap-datepicker.js" asp-append-version="true"></script>
    <script src="~/lib/AdminLTE/plugins/datepicker/locales/bootstrap-datepicker.zh-CN.js" asp-append-version="true"></script>
    <script src="~/lib/AdminLTE/plugins/select2/select2.full.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap-treeview/dist/bootstrap-treeview.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrapvalidator/dist/js/bootstrapValidator.min.js" asp-append-version="true"></script>
    <script src="~/lib/AdminLTE/plugins/iCheck/icheck.min.js" asp-append-version="true"></script>
    <script src="~/js/auto-line-number.js" asp-append-version="true"></script>
    <script src="~/view-resources/Views/ApiModule/Index.js" asp-append-version="true"></script>
}

<div class="content-wrapper" id="mainDiv" style="min-height: 935px;">
    <section class="content-header">
        <h1>Api模块</h1>
        <ol class="breadcrumb">
            <li><a href=""><i class="fa fa-dashboard"></i> 首页</a></li>
            <li><a href="#">系统工具</a></li>
            <li class="active">Api模块</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <div class="row">
            <!-- /.col -->
            <div class="col-md-12">
                <div class="box box-primary">
                    <!-- /.box-header -->
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-11">
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                            GET &nbsp;&nbsp;
                                            <span class="fa fa-caret-down"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="#" data-options="GET">GET</a></li>
                                            <li><a href="#" data-options="POST">POST</a></li>
                                            <li><a href="#" data-options="PUT">PUT</a></li>
                                            <li><a href="#" data-options="DELETE">DELETE</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#" data-options="PATHCH">PATCH</a></li>
                                            <li><a href="#" data-options="COPY">COPY</a></li>
                                            <li><a href="#" data-options="HEAD">HEAD</a></li>
                                            <li><a href="#" data-options="OPTIONS">OPTIONS</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#" data-options="LINK">LINK</a></li>
                                            <li><a href="#" data-options="UNLINK">UNLINK</a></li>
                                            <li><a href="#" data-options="PURGE">PURGE</a></li>
                                            <li><a href="#" data-options="LOCK">LOCK</a></li>
                                            <li><a href="#" data-options="UNLOCK">UNLOCK</a></li>
                                            <li class="divider"></li>
                                            <li><a href="#" data-options="PROPFIND">PROPFIND</a></li>
                                            <li><a href="#" data-options="VIEW">VIEW</a></li>
                                        </ul>
                                    </div>
                                    <!-- /btn-group -->
                                    <input type="text" class="form-control" placeholder="Enter request url">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-info btn-flat" data-event="add">Params</button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <div class="input-group">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-primary" style="border-radius:6px;">Send</button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <table id="bulk" class="table table-bordered table-striped table-hover dataTable no-footer" style="width: 100%;" role="grid">
                                    <thead>
                                        <tr role="row">
                                            <th class="text-left" rowspan="1" colspan="1">key</th>
                                            <th class="text-left" name="value" rowspan="1" colspan="1">value</th>
                                            <th class="text-left" name="description" rowspan="1" colspan="1">description</th>
                                            <th class="text-center" style="width:80px; padding-right:10px;"><a style="color:#e08e0b; cursor:pointer;" data-effect="change">Bulk Edit</a></th>
                                            <th class="text-center" style="width:10px; padding-right:10px;"><a class="show" style="cursor:pointer;" data-toggle="popover" title="SHOW COLUMNS" data-container="body" data-placement="bottom">•••</a></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr role="row" class="odd">
                                            <td class="text-left"><input placeholder="New Key" class="form-control" type="text" likeoption="true" /></td>
                                            <td class="text-left" name="value"><input placeholder="Value" class="form-control" type="text" likeoption="true" /></td>
                                            <td class="text-left" name="description" colspan="2"><input placeholder="Description" class="form-control" type="text" likeoption="true" /></td>
                                            <td class="text-center" style="vertical-align:middle;" onclick="deleteRow(this)"><i class="fa fa-remove"></i></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table id="keyvalue" class="table table-bordered table-striped table-hover dataTable no-footer" style="width: 100%; display:none;" role="grid">
                                    <thead>
                                        <tr role="row">
                                            <th class="text-left" rowspan="1" colspan="1"></th>
                                            <th class="text-center" style="width:100px; padding-right:10px;"><a style="color:#e08e0b; cursor:pointer;" data-effect="change">Key-Value Edit</a></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr role="row" class="odd">
                                            <td class="text-left" colspan="2"><textarea placeholder="" name="" style="height:150px;" class="form-control" likeoption="true"></textarea></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div id="userRole_table_processing" class="dataTables_processing" style="display: none;">处理中...</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="nav-tabs-custom">
                                    <ul class="nav nav-tabs">
                                        <li class="active"><a href="#authorization" data-toggle="tab" aria-expanded="true">Authorization</a></li>
                                        <li class=""><a href="#headers" data-toggle="tab" aria-expanded="false">Headers</a></li>
                                        <li class=""><a href="#body" data-toggle="tab" aria-expanded="false">Body</a></li>
                                        <li class=""><a href="#script" data-toggle="tab" aria-expanded="false">Pre-require Script</a></li>
                                        <li class=""><a href="#tests" data-toggle="tab" aria-expanded="false">Tests</a></li>
                                    </ul>
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="authorization">
                                            <form class="form-horizontal">
                                                <div class="form-group" style="margin:0px;">
                                                    <div class="col-sm-3">
                                                        <div>
                                                            <label>Type</label>
                                                            <select class="form-control">
                                                                <option>Inherit auth from parent</option>
                                                                <option>No Auth</option>
                                                                <option>Bearer Token</option>
                                                                <option>Basic Auth</option>
                                                                <option>Digest Auth</option>
                                                                <option>OAuth 1.0</option>
                                                                <option>OAuth 2.0</option>
                                                                <option>Hask Authentication</option>
                                                                <option>AWS Signature</option>
                                                                <option>NTLM Authentication[Beta]</option>
                                                            </select>
                                                        </div>
                                                        <div>The authorization header will be automatically generated when you send the request. Learn more about authorization</div>
                                                    </div>
                                                    <div class="col-sm-9 text-center" style="border-left: 1px solid #d2d6de;">
                                                        This request is not inheriting any authorization helper at the moment. Save it in a collection to use the parent's authorization helper.
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!-- /.tab-pane -->
                                        <div class="tab-pane" id="headers">
                                            <table id="bulkheader" class="table table-bordered table-striped table-hover dataTable no-footer" style="width: 100%;" role="grid">
                                                <thead>
                                                    <tr role="row">
                                                        <th class="text-left" name="key" rowspan="1" colspan="1">key</th>
                                                        <th class="text-left" name="value" rowspan="1" colspan="1">value</th>
                                                        <th class="text-left" name="description" rowspan="1" colspan="1">description</th>
                                                        <th class="text-center" style="width:10px; padding-right:10px;"><a class="show" style="cursor:pointer;" data-toggle="popover" title="SHOW COLUMNS" data-container="body" data-placement="bottom">•••</a></th>
                                                        <th class="text-center" style="width:80px; padding-right:10px;"><a style="color:#e08e0b; cursor:pointer;" data-effect="changeheader">Bulk Edit</a></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr role="row" class="odd">
                                                        <td class="text-left"><input placeholder="New Key" name="" class="form-control" type="text" likeoption="true" /></td>
                                                        <td class="text-left"><input placeholder="Value" name="" class="form-control" type="text" likeoption="true" /></td>
                                                        <td class="text-left" colspan="3"><input placeholder="Description" name="" class="form-control" type="text" likeoption="true" /></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <table id="keyvalueheader" class="table table-bordered table-striped table-hover dataTable no-footer" style="width: 100%; display:none;" role="grid">
                                                <thead>
                                                    <tr role="row">
                                                        <th class="text-left" rowspan="1" colspan="1"></th>
                                                        <th class="text-center" style="width:100px; padding-right:10px;"><a style="color:#e08e0b; cursor:pointer;" data-effect="changeheader">Key-Value Edit</a></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr role="row" class="odd">
                                                        <td class="text-left" colspan="2"><textarea placeholder="" name="" style="height:150px;" class="form-control" likeoption="true"></textarea></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!-- /.tab-pane -->
                                        <div class="tab-pane" id="body">
                                            <form class="form-horizontal">
                                                <div class="form-group">
                                                    <label for="inputName" class="col-sm-2 control-label">Name</label>

                                                    <div class="col-sm-10">
                                                        <input type="email" class="form-control" id="inputName" placeholder="Name">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputEmail" class="col-sm-2 control-label">Email</label>

                                                    <div class="col-sm-10">
                                                        <input type="email" class="form-control" id="inputEmail" placeholder="Email">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputName" class="col-sm-2 control-label">Name</label>

                                                    <div class="col-sm-10">
                                                        <input type="text" class="form-control" id="inputName" placeholder="Name">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputExperience" class="col-sm-2 control-label">Experience</label>

                                                    <div class="col-sm-10">
                                                        <textarea class="form-control" id="inputExperience" placeholder="Experience"></textarea>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputSkills" class="col-sm-2 control-label">Skills</label>

                                                    <div class="col-sm-10">
                                                        <input type="text" class="form-control" id="inputSkills" placeholder="Skills">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-offset-2 col-sm-10">
                                                        <div class="checkbox">
                                                            <label>
                                                                <input type="checkbox"> I agree to the <a href="#">terms and conditions</a>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-offset-2 col-sm-10">
                                                        <button type="submit" class="btn btn-danger">Submit</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!-- /.tab-pane -->
                                        <div class="tab-pane" id="script">
                                            <div>
                                                <textarea type="text" class="textline"></textarea>
                                            </div>
                                        </div>
                                        <!-- /.tab-pane -->
                                        <div class="tab-pane" id="tests">
                                            <div>
                                                <textarea type="text" class="textline"></textarea>
                                            </div>
                                        </div>
                                        <!-- /.tab-pane -->
                                    </div>
                                    <!-- /.tab-content -->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <table id="response" class="table table-bordered table-striped table-hover dataTable no-footer" style="width: 100%;" role="grid">
                                    <thead>
                                        <tr role="row">
                                            <th class="text-left" rowspan="1" colspan="1">Response</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr role="row" class="odd" style="height:400px;">
                                            <td class="text-left"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-body -->
                </div>
            </div>
        </div>
        <!-- /.row -->
    </section>
</div>

<div id="popover_content_wrapper" style="display:none;">
    <div class="col-md-7">
        <div class="checkbox">
            <label>
                <input type="checkbox" checked="checked"> Value
            </label>
        </div>
    </div>
    <div class="col-md-7">
        <div class="checkbox">
            <label>
                <input type="checkbox" checked="checked"> Description
            </label>
        </div>
    </div>
    <script type="text/javascript">
        $('div[class="checkbox"]').find('input').on('click', function () { 
            var ischeck = $(this).prop('checked');
            //初始状态是选中状态
            if (ischeck) {
                //如果是选中执行下面的步骤，添加对应的列
                $(this).removeAttr('checked');
                var title = $(this).parent().text();
                if (title == "Value") {
                    $('#bulk').find('th[name=key]').remove();
                    $('#bulk').find('td[name=value]').remove();
                }
                if (title == "Description") { 
                    $('#bulk').find('th[name=description]').remove();
                    $('#bulk').find('td[name=description]').remove();
                }
            }
            else { 
                //如果是取消选中执行下面的步骤：移除对应的列
                $(this).attr('checked', 'checked');
                var title = $(this).parent().text();
                if (title == "Value") {
                    $('#bulk').find('th[name=value]').remove();
                    $('#bulk').find('td[name=value]').remove();
                }
                if (title == "Description") { 
                    $('#bulk').find('th[name=description]').remove();
                    $('#bulk').find('td[name=description]').remove();
                }
            }
        })
    </script>
</div>